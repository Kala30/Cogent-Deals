<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Cogent_Deals.MainPage"
             Title="Deals">
  <ContentPage.ToolbarItems>
    <ToolbarItem x:Name="searchToolbarItem" Icon="search.png" Text="Search" />
  </ContentPage.ToolbarItems>
  <ContentPage.Content>
    <StackLayout>
      <ListView x:Name="DealList"
                ItemsSource="{Binding Items}"
                ItemTapped="OnItemTapped"
                IsPullToRefreshEnabled="True"
                Refreshing="ListView_Refreshing"
                ItemAppearing="loadMore">
        <ListView.ItemTemplate>
          <DataTemplate>
            <ImageCell Text="{Binding Title}"
                       TextColor="#dd000000"
                       Detail="{Binding Fields.ItemPrice}"
                       DetailColor="#89000000"
                       ImageSource="{Binding Images.image_intro}" />
          </DataTemplate>
        </ListView.ItemTemplate>
        <ListView.Footer>
          <StackLayout>
            <ActivityIndicator x:Name="BusyIndicator" IsRunning="False" IsVisible="False"/>
          </StackLayout>
        </ListView.Footer>
      </ListView>
    </StackLayout>
  </ContentPage.Content>
</ContentPage>